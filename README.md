# grpc学習

## grpcとは

- Googleで開発された多言語間のRPC(Remote Procedure Call)を実現するプロトコル
- ネットワークを介して異なる言語のプログラムを関数呼び出しすることができる
- 異なる言語間での呼び出しができるようにIDL(Interface Description Language)と呼ばれるインターフェースを定義する

### grpcの特徴

- IDLはProtocol Buffers。仕様が小さく拡張性が高いため使いやすい
- 通信プロトコルはHTTP/2
- 単純な関数呼び出しだけでなく、ストリーム処理（不定長の連続したデータ処理）を提供（双方向も可能）
- リクエストチェーン全体に渡るタイムアウトやキャンセルをプロトコルレベルでサポート

### 他のプロトコルとの比較

| 機能                           | gRPC                         | REST           | GraphQL                    |
| ------------------------------ | ---------------------------- | -------------- | -------------------------- |
| スキーマ言語                   | Protocol Buffers             | OpenAPI(記述量多)| GraphQL                    |
| クエリ言語                     | なし                         | なし           | あり                       |
| IDL コンパイラ                 | 公式が多数提供               | 公式提供なし   | 公式提供なし               |
| ストリーム処理                 | 双方向可能                   | サーバーサイド | [ドラフト][graphql-stream] |
| クライアント指定のタイムアウト | あり                         | なし           | なし                       |
| クライアントからのキャンセル   | あり                         | なし           | なし                       |
| バイナリデータ                 | 扱える                       | 扱える         | [実装次第][graphql-binary] |
| 最大メッセージサイズ           | デフォルト 4 MiB, 最大 4 GiB | 仕様上はなし   | 仕様上はなし               |
